<img src="https://user-images.githubusercontent.com/118701129/244858182-c42829e8-feb5-411f-ae7d-5d37764d8d17.png" width=500 />

>컴퓨터 내부장치와 외부장치 구조

## CPU 연산과 I/O연산
컴퓨터 내부에서 발생하는 연산은 cpu가 담당한다

입출력장치에서 발생하는 I/O연산은 입출력 컨트롤러가 담당한다

컨트롤러 장치로부터 들어오고 나가는 데이터를 임시로 저장하는 작은 메모리를 로컬버퍼(local buffer)라고 부른다
CPU와 컨트롤러는 인터럽트로 통신하는데 cpu가 메모리에서 명령어를 처리후 인터럽트 라인에 신호가 있는지 수시로 체크한다.
***
## 인터럽트 일반적 기능
인터럽트는 두가지로 나뉜다
* I/O컨트롤러가 인터럽트를 걸면 *하드웨어 인터럽트*
* 프로그램이 인터럽트를 걸면 *소프트웨어 인터럽트*

둘 다 cpu에 인터럽트를 걸면 cpu의 제어권이 os로 넘어가 os는
인터럽트벡터(interrupt vector)를 참조해 해당 인터럽트 서비스 루틴을 실행한다.
>   인터럽트벡터(interrupt vector)
- 인터럽트마다 수행해야할 코드가 모두 다르기 때문에 이 서비스 루틴들이 커널에 위치한 주소를 가리키고 있다.
- 인터럽트가 발생했을 때 수행되는 코드를 인터럽트 처리루틴(interrupt service routine) 또는 인터럽트 핸들러(interrupt handler)라고 부른다

### 소프트웨어 인터럽트
일반적으로 인터럽트는 하드웨어 인터럽트를 의미하고 소프트웨어 인터럽트는 *트랩*이라고 불린다. 
 * 예외(exception)

    사용자 프로세스가 비정상적인 작업(divide by zero) 또는 메모리 침범과 같은 작업이 발생하면 처리하는 인터럽트
 * 시스템 콜(system call)

    os에 정의된 서비스를 이용하고 싶을 때 발생하는 인터럽트

    